{"version":3,"sources":["../../packages/stadline/js-extension-bundle/Resources/public/backbone/extensions/application.js","../../packages/stadline/js-extension-bundle/Resources/public/backbone/extensions/layoutview.js","../../packages/stadline/js-extension-bundle/Resources/public/backbone/extensions/relationalmodel.js","../../packages/stadline/js-extension-bundle/Resources/public/backbone/extensions/subcollection.js","../../assets/scripts/models/question.js","../../assets/scripts/collections/questions.js","../../assets/scripts/views/chat-room.js","../../assets/scripts/views/layout.js","../../assets/scripts/views/message-form.js","../../assets/scripts/main.js"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["Extension = window.Extension || {};\n\nExtension.Application = Marionette.Application.extend({\n    initialize: function() {\n        var App = this;\n\n        Marionette.Behaviors.behaviorsLookup = function() {\n            return App.Behaviors;\n        };\n\n        App.parameters = new Backbone.Model();\n\n        App.on(\"stop\", function() {\n            App.parameters.clear();\n        });\n    },\n\n    setParameter: function(key, value) {\n        this.parameters.set(key, value);\n    },\n\n    getParameter: function(key) {\n        return this.parameters.get(key);\n    }\n});","Extension = window.Extension || {};\n\nExtension.LayoutView = Marionette.LayoutView.extend({\n    /**\n     * Removed default action on hash links\n     * in order not to trigger router methods\n     */\n    preventHashChange: function(event) {\n        var $target = $(event.currentTarget);\n\n        if (_.string.startsWith($target.attr('href'), '#')) {\n            event.preventDefault();\n        }\n    },\n\n    /**\n     * Open a view in a modal\n     *\n     * Attach a view to modal region\n     * and trigger modal initialization\n     */\n    openModal: function(modalView, options) {\n        var self = this;\n\n        this.modal.show(modalView);\n\n        $.magnificPopup.open(_.defaults({}, options, {\n            items: {\n                src: this.modal.$el,\n                type: 'inline'\n            },\n            /*modal: true,*/\n            midClick: true,\n            callbacks: {\n                open: function() {\n                    self.modal.$el.on(\"click\", \".mfp-close, .mfp-inline-close\", function() {\n                        App.layout.closeModal();\n                    });\n\n                    self.modal.$el.on(\"click\", \"a[href]\", function(event) {\n                        self.preventHashChange(event);\n                    });\n                },\n                close: function() {\n                    modalView.destroy();\n                }\n            }\n        }));\n    },\n\n    /**\n     * Close current modal\n     *\n     * A modal view class can be passed to prevent closing the wrong modal\n     */\n    closeModal: function(modalViewClass) {\n        if (!modalViewClass || this.modal.currentView instanceof modalViewClass) {\n            $.magnificPopup.close();\n        }\n    }\n});","Extension = window.Extension || {};\n\n/**\n * Relational model extension\n */\nExtension.RelationalModel = Backbone.Model.extend({\n    set: function() {\n        Backbone.Model.prototype.set.apply(this, arguments);\n\n        if (_.isUndefined(this._initialAttributes)) {\n            this._initialAttributes = _(this.attributes).clone();\n        }\n\n        return this;\n    },\n\n    /**\n     * To be used in parse process\n     * > add model response to collection\n     * > and return related model\n     */\n    addReference: function(collection, givenModel, additionalValues, callback) {\n        var model = _(givenModel).extend(additionalValues);\n\n        var addedModels = collection.add([model], {merge: true, parse: true});\n\n        if (_.isFunction(callback)) {\n            var self = this;\n\n            _(addedModels).each(function(addedModel) {\n                callback.call(self, addedModel);\n            });\n        }\n\n        return addedModels[0];\n    },\n\n    /**\n     * To be used in parse process\n     * > add model responses to collection\n     * > and return an array of related models\n     */\n    addReferences: function(collection, givenModels, additionalValues, callback) {\n        var models = _(givenModels).map(function(model) {\n            return _(model).extend(additionalValues);\n        });\n\n        var addedModels = collection.add(models, {merge: true, parse: true});\n\n        if (_.isFunction(callback)) {\n            var self = this;\n\n            _(addedModels).each(function(addedModel) {\n                callback.call(self, addedModel);\n            });\n        }\n\n        return new Backbone.Collection(addedModels);\n    },\n\n    /**\n     * Serialize model\n     * > used in saving process\n     */\n    toJSON: function(options) {\n        // serialize helper, which flatten related models to ids\n        var serialize = function(value) {\n            if (value instanceof Backbone.Collection) {\n                return value.chain().map(serialize).reject(_.isUndefined).value();\n            } else if (_.isObject(value) && value.cid) {\n                return value.id;\n            } else {\n                return value;\n            }\n        };\n\n        var attributes = {};\n\n        _(this.attributes).each(function(value, key) {\n            attributes[key] = serialize(value);\n        });\n\n        return attributes;\n    },\n\n    /**\n     * Nested save process\n     * > save related models before current model\n     *\n     * @returns {Deferred}\n     */\n    save: function(key, val, options) {\n        var self = this;\n\n        options = options || {\n            models: []\n        };\n\n        // remember object tree to avoid infinite recursion\n        if (_(options['models']).contains(this)) {\n            return $.Deferred().resolve();\n        } else {\n            options['models'].push(this);\n        }\n\n        // get related models\n        var relatedModels = [];\n        _(this.attributes).each(function(attribute) {\n            if (attribute instanceof Backbone.Model) {\n                relatedModels.push(attribute);\n            } else if (attribute instanceof Backbone.Collection) {\n                relatedModels = relatedModels.concat(attribute.models);\n            }\n        });\n\n        // check models to sync\n        var modelsToSync = _(relatedModels).filter(function(model) {\n            return model.hasUrl() && model.isSyncable();\n        });\n\n        // if there is no model to sync, use regular save method\n        if (modelsToSync.length < 1) {\n            return this._save(key, val, options);\n        }\n\n        // reject save if a related model is invalid\n        if (!_(modelsToSync).every(function(model) {\n            return model.isValid();\n        })) {\n            return false;\n        }\n\n        // prepare deferred save\n        var deferredSave = $.Deferred();\n\n        // sync related models first\n        _(modelsToSync).each(function(model, i) {\n            model.save(null, null, options).done(function() {\n                modelsToSync.pop();\n\n                // if we have synced all related model, save parent\n                if (modelsToSync.length < 1) {\n                    self._save(key, val, options).done(function() {\n                        // then resolve the promise\n                        deferredSave.resolve();\n                    });\n                }\n            });\n        });\n\n        return deferredSave;\n    },\n\n    _save: function() {\n        var self = this;\n        var xhr = Backbone.Model.prototype.save.apply(this, arguments).done(function() {\n            self._initialAttributes = _(self.attributes).clone();\n        });\n        return xhr;\n    },\n    \n    /**\n     * Test if model has changed this initialization\n     * \n     * @returns {Boolean}\n     */\n    isVanilla: function() {\n        return _(this._initialAttributes).isEqual(this.attributes);\n    },\n\n    /**\n     * Test if model has data to be synced\n     *\n     * @returns {Boolean}\n     */\n    isSyncable: function() {\n        return this.isNew() || !this.isVanilla();\n    },\n\n    /**\n     * Test if model has a valid url\n     *\n     * @returns {Boolean}\n     */\n    hasUrl: function() {\n        var baseUrl =\n            _.result(this, 'urlRoot') ||\n            _.result(this.collection, 'url');\n\n        return !!baseUrl;\n    }\n});","Extension = window.Extension || {};\n\n/**\n * Sub-collection extension\n * A sub collection sync with a parent collection\n *\n * Eg:\n * - subcollection:    activeUsers\n * - parentcollection: allUsers\n *\n * Add and remove in subcollection are synced with the parent collection, but add and remove in parent collection\n * are not synced the subcollections because we don't know how they are related.\n *\n * Model changes are sync with all collections because model are object references.\n */\nExtension.SubCollection = Backbone.Collection.extend({\n    constructor: function(models, options) {\n        options || (options = {});\n\n        // parent option should be set on initialization\n        if (options.parent) {\n            this.parent = options.parent;\n            this.model = this.parent.model;\n            this.comparator = this.parent.comparator;\n\n            this.on(\"add\", function(model, collection, options) {\n                this.parent.add(model, options);\n            });\n            this.on(\"remove\", function(model, collection, options) {\n                this.parent.remove(model, options);\n            });\n            this.on(\"reset\", function(collection, options) {\n                this.parent.reset(options);\n            });\n            this.on(\"change\", function(model, changes) {\n                this.parent.get(model).set(model.toJSON());\n            });\n        }\n\n        Backbone.Collection.apply(this, arguments);\n    }\n});","App = window.App || new Extension.Application();\n\nApp.module('Models', function(module) {\n    module.Message = Extension.RelationalModel.extend({\n        // nothing yet\n    });\n});","App = window.App || new Extension.Application();\n\nApp.module('Collections', function(module) {\n    /**\n     * Global limit collection\n     */\n    module.Messages = Backbone.Collection.extend({\n        model: App.Models.Message,\n        url: function() {\n            return App.getParameter('api_base_url')+'/messages.json';\n        }\n    });\n\n    App.on(\"before:start\", function() {\n        App.messages = new App.Collections.Messages();\n    });\n\n    App.on(\"start\", function() {\n        App.messages.fetch();\n    });\n\n    App.on(\"stop\", function() {\n        App.messages.reset();\n    });\n});","App = window.App || new Extension.Application();\n\nApp.module('Views', function(module) {\n\n    module.ChatRoomMessage = Marionette.ItemView.extend({\n        template: \"#chat-room-message-template\",\n        serializeData: function() {\n            return {\n                message: this.model\n            };\n        },\n\n        modelEvents: {\n            'change:text': 'render'\n        },\n\n        tagName: 'li'\n    });\n\n    module.ChatRoom = Marionette.CompositeView.extend({\n        template: \"#chat-room-template\",\n        serializeData: function() {\n            return {\n                messages: this.collection\n            };\n        },\n\n        childView: module.ChatRoomMessage,\n        childViewContainer: 'ul'\n    });\n});","App = window.App || new Extension.Application();\n\nApp.module('Views', function(module) {\n    module.Layout = Extension.LayoutView.extend({\n        template: \"#layout-template\",\n\n        events: {\n            \"click a[href]\": \"preventHashChange\"\n        },\n\n        regions: {\n            chatRoom: \"#chat-room-region\",\n            messageForm: \"#message-form-region\"\n        },\n\n        onRender: function() {\n            this.chatRoom.show(new App.Views.ChatRoom({\n                collection: App.messages\n            }));\n\n            this.messageForm.show(new App.Views.MessageForm({\n                model: new App.Models.Message()\n            }));\n        }\n    });\n});","App = window.App || new Extension.Application();\n\nApp.module('Views', function(module) {\n    module.MessageForm = Marionette.ItemView.extend({\n        template: \"#message-form-template\",\n        serializeData: function() {\n            return {\n                message: this.model\n            };\n        },\n\n        events: {\n            \"submit form\": \"onFormSubmit\"\n        },\n\n        onFormSubmit: function(event) {\n            event.preventDefault();\n\n            var values = this.$('form').serializeObject();\n            var message = new App.Models.Message(values.message);\n\n            message.set('created_at', new Date());\n            App.messages.add(message);\n            message.save();\n\n            this.render();\n        }\n    });\n});","App = window.App || new Extension.Application();\n\n$(function() {\n    // after booting the application\n    App.on(\"before:start\", function() {\n        // initialize data\n        App.setParameter('api_base_url', 'http://api-marionette.local/api');\n    });\n\n    App.on(\"start\", function() {\n        // render main view\n        App.layout = new App.Views.Layout({\n            el: $(\".backbone-container:first\")\n        });\n\n        App.layout.render();\n    });\n\n    $.ajax({\n        url: 'dist/templates.html',\n        dataType: 'text'\n    }).done(function(templates) {\n        $(document.body).append(templates);\n\n        $.ajaxSetup({\n            timeout: 2000,\n            headers: {'X-Requested-With': 'XMLHttpRequest'}\n        });\n\n        // boot application\n        App.start();\n    });\n});"]}